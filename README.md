# СПРУТ-ИСТА (Sprut)

Комплексная система моделирования и анализа систем физической защиты объектов на базе фреймворка экспресс-моделирования сложных технических систем.

## Структура проекта

Проект состоит из двух основных компонентов:

### AutoDMPas
**Фреймворк экспресс-моделирования сложных технических систем** — базовый инструментарий для создания, редактирования, анализа и сравнения моделей технических систем.

Подробное описание см. в [README.md](https://github.com/igorvolk1961/sprut/blob/main/AutoDMPas/README.md).

### Sprut3Pas
**Основное приложение СПРУТ-ИСТА** (версия 2.5.0) — комплексная система для моделирования и анализа систем физической защиты объектов. Построено на базе фреймворка AutoDMPas и включает специализированные модули для работы с моделями сооружений, анализа защиты и синтеза систем безопасности.

## Компоненты Sprut3Pas

### Основное приложение

| Компонент | Описание |
|-----------|----------|
| **Spruter** | Главное приложение СПРУТ-ИСТА. Визуальный редактор для работы с моделями систем физической защиты, анализа и синтеза. |

### Библиотеки моделирования

| Библиотека | Описание |
|------------|----------|
| **FacilityModelLib** | Модель сооружения (Facility Model) — COM-библиотека для представления и работы с моделями защищаемых объектов: элементы защиты, зоны, границы, пути перемещения, критические точки. |
| **BattleModelLib** | Модель боя — библиотека для моделирования боевых действий малых групп и анализа эффективности систем защиты. |
| **FMDocumentLib** | Документ модели сооружения — управление документами моделей Facility Model. |

### Библиотеки анализа и синтеза

| Библиотека | Описание |
|------------|----------|
| **SafeguardAnalyzerLib** | Анализатор систем защиты — библиотека для анализа эффективности систем физической защиты: построение графов, анализ путей проникновения, оценка уязвимостей. |
| **SafeguardSynthesisLib** | Синтез систем защиты — библиотека для автоматического синтеза и оптимизации систем физической защиты: генерация вариантов оборудования, рекомендации по размещению элементов защиты. |
| **SectorBuilderLib** | Построитель секторов — библиотека для автоматического построения секторов обзора и зон контроля. |

### Вспомогательные библиотеки

| Библиотека | Описание |
|------------|----------|
| **AutoVisio** | Экспорт в Microsoft Visio — автоматизация создания диаграмм и схем в Visio. |
| **AutoCadExp** | Экспорт в AutoCAD — экспорт моделей в формат AutoCAD для дальнейшей работы с чертежами. |
| **Sgdb** | База данных SGDB — библиотека для работы с базой данных систем защиты. |
| **SGDBClient** | Клиент базы данных SGDB — приложение для работы с базой данных систем защиты. |

### Демонстрационные приложения

| Приложение | Описание |
|------------|----------|
| **DemoSprut** | Демонстрационное приложение — пример использования возможностей СПРУТ-ИСТА. |

## Возможности системы

### Моделирование сооружений
- **Создание моделей объектов** — построение трёхмерных моделей защищаемых объектов с элементами защиты
- **Работа с зонами** — определение и управление зонами контроля, зонами безопасности, периметрами
- **Границы и препятствия** — моделирование физических барьеров, стен, ограждений
- **Пути перемещения** — определение маршрутов перемещения нарушителей и защитников
- **Многоэтажные объекты** — работа с многоуровневыми сооружениями, лестницами, перекрытиями

### Анализ систем защиты
- **Построение графов** — автоматическое построение графов проникновения
- **Анализ путей** — поиск и анализ всех возможных путей проникновения нарушителей
- **Оценка уязвимостей** — выявление критических точек и слабых мест в системе защиты
- **Варианты анализа** — создание и сравнение различных сценариев атак

### Синтез систем защиты
- **Автоматический синтез** — генерация вариантов систем защиты на основе требований
- **Оптимизация размещения** — рекомендации по оптимальному размещению элементов защиты
- **Варианты оборудования** — подбор и сравнение различных вариантов технических средств защиты
- **Оценка эффективности** — расчёт показателей эффективности предлагаемых решений

### Экспорт и интеграция
- **Экспорт в Visio** — создание схем и диаграмм в Microsoft Visio
- **Экспорт в AutoCAD** — экспорт моделей для работы в AutoCAD
- **Работа с базами данных** — интеграция с базой данных систем защиты (SGDB)

## Технологии

- **Язык:** Delphi (Object Pascal)
- **Архитектура:** COM (Component Object Model) — модульная архитектура на базе COM-библиотек
- **Базовый фреймворк:** AutoDMPas — фреймворк экспресс-моделирования сложных технических систем
- **Визуализация:** OpenGL, 2D/3D отрисовка моделей
- **Интеграция:** Microsoft Visio, AutoCAD, базы данных

## Структура каталогов

```
sprut/
├── AutoDMPas/          # Фреймворк экспресс-моделирования
│   ├── DataModel/      # Ядро модели данных
│   ├── DMEditor/       # Визуальный редактор
│   ├── DMServer/       # Серверная модель данных
│   ├── DMControls/     # Элементы управления
│   ├── SpatialModel/   # Пространственное моделирование
│   └── ...
├── Sprut3Pas/          # Основное приложение СПРУТ-ИСТА
│   ├── FacilityModel/  # Модель сооружения
│   ├── BattleModel/    # Боевая модель
│   ├── SafeguardAnalyzer/  # Анализатор защиты
│   ├── SafeguardSynthesis/ # Синтез систем защиты
│   ├── SectorBuilder/ # Построитель секторов
│   ├── AutoVisio/     # Экспорт в Visio
│   ├── AutoCadExp/    # Экспорт в AutoCAD
│   ├── SGDB/          # База данных систем защиты
│   └── ...
├── help/              # Документация
├── Imports/           # Импортированные модули
└── qwt-5.0.2/         # Библиотека Qwt
```

## Сборка

Проекты собираются в среде **Delphi**. Основные проекты:

1. **AutoDMPas** — сначала собираются базовые библиотеки фреймворка (см. [AutoDMPas/README.md](AutoDMPas/README.md))
2. **Sprut3Pas** — затем собираются библиотеки и приложения СПРУТ-ИСТА:
   - FacilityModelLib
   - BattleModelLib
   - SafeguardAnalyzerLib
   - SafeguardSynthesisLib
   - SectorBuilderLib
   - AutoVisio, AutoCadExp
   - Sgdb
   - Spruter (главное приложение)

### Порядок сборки

1. Соберите базовые библиотеки AutoDMPas (DataModel, DMServer, DMEditor, SpatialModel, PainterLib)
2. Зарегистрируйте COM-компоненты AutoDMPas
3. Соберите библиотеки Sprut3Pas в порядке зависимостей
4. Зарегистрируйте COM-компоненты Sprut3Pas
5. Соберите главное приложение Spruter

## Применение

Система СПРУТ-ИСТА предназначена для:

- **Проектирования систем физической защиты** — создание комплексных моделей систем защиты объектов
- **Анализа эффективности** — оценка уязвимостей и эффективности существующих систем защиты
- **Оптимизации размещения** — оптимизация расположения элементов защиты для максимальной эффективности
- **Синтеза решений** — автоматическая генерация вариантов систем защиты
- **Документирования** — создание схем, диаграмм и документации систем защиты

## Версия

Версия системы: **2.5.0** (Spruter)

---

*СПРУТ-ИСТА — комплексная система моделирования и анализа систем физической защиты объектов.*
